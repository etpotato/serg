!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=4)}([,function(t,e){const r=document.querySelector(".header__nav-wrapper"),n=r.querySelector(".header__nav-link--current"),o=r.querySelector(".header__nav-toggle"),a=t=>{t.preventDefault(),r.classList.remove("header__nav-wrapper--opened"),o.setAttribute("aria-expanded","false")};(()=>{const t=document.createElement("div");t.classList.add("header__nav-underlay"),r.prepend(t),t.addEventListener("click",a)})(),r.classList.remove("header__nav-wrapper--no-js"),o.addEventListener("click",t=>{t.preventDefault(),r.classList.toggle("header__nav-wrapper--opened");const e="true"===o.getAttribute("aria-expanded");o.setAttribute("aria-expanded",!e)}),n&&n.addEventListener("click",a)},function(t,e){const r=document.querySelector(".header__region-list");r.addEventListener("click",t=>{if(t.preventDefault(),!t.target.matches(".header__region-link"))return;const e=t.target.href.slice(t.target.href.indexOf("#"));sessionStorage.setItem("regionId",e),window.location.href="procedure.html"}),r.addEventListener("dblclick",t=>{t.preventDefault()})},function(t,e,r){"use strict";r.r(e);function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){if(!("string"==typeof t||t instanceof String)){var e=n(t);throw null===t?e="null":"object"===e&&(e=t.constructor.name),new TypeError("Expected a string but received a ".concat(e))}}function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;for(var r in e)void 0===t[r]&&(t[r]=e[r]);return t}function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){var r,n;o(t),"object"===c(e)?(r=e.min||0,n=e.max):(r=arguments[1],n=arguments[2]);var a=encodeURI(t).split(/%..|./).length-1;return a>=r&&(void 0===n||a<=n)}var u={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1};var l="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",s="(".concat(l,"[.]){3}").concat(l),f=new RegExp("^".concat(s,"$")),d="(?:[0-9a-fA-F]{1,4})",_=new RegExp("^("+"(?:".concat(d,":){7}(?:").concat(d,"|:)|")+"(?:".concat(d,":){6}(?:").concat(s,"|:").concat(d,"|:)|")+"(?:".concat(d,":){5}(?::").concat(s,"|(:").concat(d,"){1,2}|:)|")+"(?:".concat(d,":){4}(?:(:").concat(d,"){0,1}:").concat(s,"|(:").concat(d,"){1,3}|:)|")+"(?:".concat(d,":){3}(?:(:").concat(d,"){0,2}:").concat(s,"|(:").concat(d,"){1,4}|:)|")+"(?:".concat(d,":){2}(?:(:").concat(d,"){0,3}:").concat(s,"|(:").concat(d,"){1,5}|:)|")+"(?:".concat(d,":){1}(?:(:").concat(d,"){0,4}:").concat(s,"|(:").concat(d,"){1,6}|:)|")+"(?::((?::".concat(d,"){0,5}:").concat(s,"|(?::").concat(d,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(o(t),!(e=String(e)))return m(t,4)||m(t,6);if("4"===e){if(!f.test(t))return!1;var r=t.split(".").sort((function(t,e){return t-e}));return r[3]<=255}return"6"===e&&!!_.test(t)}var p={allow_display_name:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1},v=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,x=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,y=/^[a-z\d]+$/,b=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,g=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,h=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i;function F(t,e){if(o(t),(e=a(e,p)).require_display_name||e.allow_display_name){var r=t.match(v);if(r){var n=r[1];if(t=t.replace(n,"").replace(/(^<|>$)/g,""),n.endsWith(" ")&&(n=n.substr(0,n.length-1)),!function(t){var e=t.replace(/^"(.+)"$/,"$1");if(!e.trim())return!1;if(/[\.";<>]/.test(e)){if(e===t)return!1;if(!(e.split('"').length===e.split('\\"').length))return!1}return!0}(n))return!1}else if(e.require_display_name)return!1}if(!e.ignore_max_length&&t.length>254)return!1;var c=t.split("@"),l=c.pop(),s=c.join("@"),f=l.toLowerCase();if(e.domain_specific_validation&&("gmail.com"===f||"googlemail.com"===f)){var d=(s=s.toLowerCase()).split("+")[0];if(!i(d.replace(".",""),{min:6,max:30}))return!1;for(var _=d.split("."),F=0;F<_.length;F++)if(!y.test(_[F]))return!1}if(!(!1!==e.ignore_max_length||i(s,{max:64})&&i(l,{max:254})))return!1;if(!function(t,e){o(t),(e=a(e,u)).allow_trailing_dot&&"."===t[t.length-1]&&(t=t.substring(0,t.length-1));var r=t.split("."),n=r[r.length-1];if(e.require_tld){if(r.length<2)return!1;if(!/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(n))return!1;if(/[\s\u2002-\u200B\u202F\u205F\u3000\uFEFF\uDB40\uDC20\u00A9\uFFFD]/.test(n))return!1}return!(!e.allow_numeric_tld&&/^\d+$/.test(n))&&r.every((function(t){return!(t.length>63)&&(!!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(t)&&(!/[\uff01-\uff5e]/.test(t)&&(!/^-|-$/.test(t)&&!(!e.allow_underscores&&/_/.test(t)))))}))}(l,{require_tld:e.require_tld})){if(!e.allow_ip_domain)return!1;if(!m(l)){if(!l.startsWith("[")||!l.endsWith("]"))return!1;var S=l.substr(1,l.length-2);if(0===S.length||!m(S))return!1}}if('"'===s[0])return s=s.slice(1,s.length-1),e.allow_utf8_local_part?h.test(s):b.test(s);for(var w=e.allow_utf8_local_part?g:x,E=s.split("."),q=0;q<E.length;q++)if(!w.test(E[q]))return!1;return!e.blacklisted_chars||-1===s.search(new RegExp("[".concat(e.blacklisted_chars,"]+"),"g"))}const S=/^(\+7|7|8)?[\s-]?\(?[489][0-9]{2}\)?[\s-]?[0-9]{2}[\s-]?([0-9][\s-]?){3}[0-9]{2}$/,w="Отправить",E="Отправлено!",q=document.querySelector(".contact__form"),L=Array.from(q.querySelectorAll(".contact__form-input")),$=q.querySelector("#contact-name"),D=q.querySelector("#contact-address"),k=q.querySelector("#contact-message"),A=q.querySelector(".contact__form-submit-wrapper"),j=A.querySelector(".contact__form-submit"),C=t=>{const e=t.parentElement.querySelector(".contact__form-label-invalid");if(t.classList.add("contact__form-input--invalid"),e)return;const r=document.createElement("span");r.classList.add("contact__form-label-invalid"),r.textContent=t.dataset.error,t.parentNode.append(r)},O=t=>{const e=t.parentNode.querySelector(".contact__form-label-invalid");e&&e.remove(),t.classList.remove("contact__form-input--invalid")},z=()=>{const t=$.value;if(""===t)return!1;const e=""!==t.trim();return e?O($):C($),e},P=()=>{const t=D.value;if(""===t)return!1;const e=F(t)||S.test(t.trim());return e?O(D):C(D),e},T=()=>{const t=k.value;if(""===t)return!1;const e=""!==t.trim();return e?O(k):C(k),e},M=()=>{A.querySelector(".contact__form-submitted").remove(),j.classList.remove("contact__form-submit--success"),j.textContent=w,j.disabled=!1,q.removeEventListener("click",M)},R=t=>{(()=>{const t=document.createElement("p");t.classList.add("contact__form-submitted"),t.textContent="Мы свяжемся с вами в ближайшее время",A.append(t)})(),j.classList.add("contact__form-submit--success"),j.textContent=E,q.reset(),j.disabled=!0,q.addEventListener("click",M),t.text().then(t=>{window.open().document.write(t)})},I=()=>{const t=document.createElement("p");t.classList.add("contact__form-submit-error"),t.textContent="Ошибка отправки данных. Попробуйте еще раз.",q.append(t),setTimeout(()=>{t.remove()},5e3)};L.forEach(t=>t.required=!1),$.addEventListener("blur",z),D.addEventListener("blur",P),k.addEventListener("blur",T),q.addEventListener("submit",t=>{if(t.preventDefault(),j.blur(),[z(),P(),T()].every(t=>!0===t))e=new FormData(t.target),r=R,n=I,fetch("https://echo.htmlacademy.ru/courses",{method:"POST",body:e}).then(t=>{if(t.ok)return r(t);throw new Error(`${t.status} ${t.statusText}`)}).catch(n);else{Array.from(q.querySelectorAll("*:placeholder-shown")).forEach(t=>C(t)),q.querySelector(".contact__form-input--invalid").focus()}var e,r,n})},function(t,e,r){r(1),r(2),t.exports=r(3)}]);
//# sourceMappingURL=index.bundle.js.map